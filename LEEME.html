<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Physionet - LEEME</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        font-family: Arial,serif;
        text-align: justify;
    }

    body {
        background-color: #51dacf;
        min-width: 1000px;
    }

    .container {
        background-color: white;
        padding: 2%;
        margin: 2% 5%;
        border-radius: 10px;
        border: 1px solid black;
        box-shadow: 5px 5px 15px -8px #000000;
    }

    .container > h1 {
        margin-bottom: 1.5%;
    }

    .container > ol {
        list-style-type: circle;
        list-style-position: inside;
    }

    ol > li {
        margin-top: 1%;
    }

    li > ul {
        margin-left: 2%;
    }

    header {
        display: flex;
        margin-left: 5%;
        margin-right: 5%;
        padding-top: 2%;
        font-size: 1.3em;
        color: white;
        text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
        align-items: center;
    }

    .header-text {
        margin-top: 2%;
        text-shadow: none;
        font-style: italic;
        color: black;
    }

</style>

<body>
    <header>
        <img src="src/main/resources/static/images/Physionet.png" alt="logo" width="250px" height="250px" style="border-radius: 10px; margin-right: 1%">
        <div>
            <h1>Physionet - Progreso de la aplicación</h1>
            <div class="header-text">
                Physionet es una aplicación que se encarga de gestionar una clínica de fisioterapia en la que hay médicos y
                pacientes.
                Con Physionet, los médicos podrán concertar citas con los pacientes y podrán chatear con estos,
                además de poder planificar sus días de vacaciones y organizarlos junto con los demás médicos registrados
                de la aplicación. Además, con Physionet, los médicos tendrán un fácil acceso al historial de consultas de los
                pacientes para obtener su historial médico de una manera mas sencilla.
            </div>
        </div>
    </header>
    <div class="container">
        <h1>Entrega 1 - Vistas estáticas con HTML</h1>
        <h2>Vistas</h2>
        <ol>
            <li>
                <strong>Citas previstas para un médico</strong>: Se trata de la vista principal que tiene un médico y
                a la que se
                redirige cuando inicia sesión. La vista consiste en un listado con las citas (ordenadas por hora) que
                tiene el médico.
                Además, si el médico hace click sobre cada cita, esta se previsualizará. Aunque no estám implementados
                en la vista, a
                esta le queda por añadir dos botones flotantes para añadir una cita y para modificar la cita
                seleccionada.
                A esta pantalla se podrá acceder desde la barra superior y solo estará disponible si el usuario es
                médico.
            </li>
            <li>
                <strong>Mensajes</strong>: Esta es la vista que tendrá un usuario (ya sea médico o paciente) para
                poder
                chatear con otros usuarios de la aplicación. Consta de una lista con una barra de búsqueda en la que se
                encuentran todos los usuarios con los que el médico o paciente que ha iniciado sesión está estableciendo
                conversación. Si el usuario es médico, entonces junto a su nombre saldrá un icono que lo indique. Si
                clickamos en la conversación, podremos acceder a ella. Se podrá acceder a ella a través de la barra de
                navegación y a través de la vista de citas tanto por la parte del médico como por la parte del paciente.
            </li>
            <li>
                <strong>Perfil de paciente</strong>: Esta vista muestra el perfil de un paciente. Junto a él también
                se
                encuentra su historial de citas registradas en la aplicación. Los médicos podrán acceder a esta vista a
                través de la vista de citas (haciendo click sobre el perfil en cuestión), aunque no podrán modificar
                dicha
                vista. Los administradores no accederán directamente a esta vista, si no a otra en la que aparecerán
                distintas opciones. Los pacientes no podrán ver su propio perfil pero siempre podrán acceder a la
                información a través de los médicos (hablando fisicamente).
            </li>
            <li>
                <strong>Vista de administrador</strong>: Esta vista es la única que tiene el administrador. Consta de
                un
                listado de los usuarios de la aplicación, filtrados por médicos y pacientes. Cada uno de ellos tiene un
                botón para poder eliminarse de la base de datos. También, si hacemos click en el usuario, podremos
                modificar
                los datos de este que sean necesarios. Aún falta algún botón para poder añadir usuarios. A esta vista
                solo
                se podrá acceder si el usuario es administrador. El primer enlace lleva a lo que ve un admin cuando ve el perfil de un paciente
                y el segundo igual pero con un médico.
            </li>
            <li>
                <strong>Historial de un paciente</strong>: Esta vista muestra en detalle el historial de citas que el
                paciente ha tenido. Si hacemos click en la cita en cuestión podremos verla con más detalle. A esta vista
                se
                puede accerder desde el perfil del paciente o desde la vista de citas programadas, en la
                previsualización de
                cada cita, si el usuario registrado es un médico.
            </li>
            <li>
                <strong>Citas pendientes de un paciente</strong>: Esta vista muestra las citas que tiene pendiente un paciente. Es
                la vista principal de un paciente y es a la que va redirigido después de iniciar sesión. Se puede acceder a esta vista desde la barra de navegación y solo si el usuario es paciente.
            </li>
            <li>
                <strong>Cuadrante horarios</strong>: Esta vista muestra cómo están repartidas las vacaciones para los
                médicos, de tal manera que se puede observar en el calendario los días en los que los médicos libran.
                También se puede solicitar días para añadirlos a los cuadrantes y asi poder gestionar las citas del
                médico
                para esos días. Se podrá acceder a ella a través de la barra de navegación y únicamente si el usuario es
                un
                médico.
            </li>
        </ol>
    </div>
    <div class="container">
        <h1>Entrega 2 - Primera versión del modelo de datos</h1>
        <p>Las clases del modelo (entidades) están descritas en la cabecera de clada clase. <br><br> A continuación puede ver el esquema de la base de datos que hemos pensado
            para nuestra aplicación
        </p>
        <img src="src/main/resources/static/images/database-schema.png" alt="database_schema" width="500px" height="500px" style="margin-top: 1%">
    </div>
    <div class="container">
        <h1>Entrega 3 - Vistas + modelo</h1>
        <p>En esta entrega se incluye una primera versión de la aplicación en la que algunas partes han sido implementadas complementándolas con el modelo.</p>
        <br>
        <h2>Funcionalidades añadidas</h2>
        <ol>
            <li>
                Sistema de log-in
            </li>
            <li>
                Vistas de error personalizadas
            </li>
            <li>
                Mensajería (Vista del médico y paciente):
                <ul>
                    <li>Enviar mensajes</li>
                    <li>Recibir mensajes</li>
                    <li>Observar los mensajes no vistos</li>
                </ul>
            </li>
            <li>
                Ausencias (Vista del médico):
                <ul>
                    <li>Ver todas las ausencias</li>
                    <li>Añadir una ausencia</li>
                </ul>
            </li>
            <li>
                Administración de la aplicación:
                <ul>
                    <li>Observar todos lo médicos y pacientes</li>
                    <li>Modificar datos de pacientes y médicos</li>
                    <li>Eliminar de la base de datos médicos y pacientes</li>
                </ul>
            </li>
            <li>
                Citas (Vista de médico):
                <ul>
                    <li>Ver las citas que un médico tiene en el día</li>
                </ul>
            </li>
        </ol>
    </div>
    <div class="container">
        <h1>Entrega 4 - Mejora tu web, añade al menos una llamada Ajax y un uso de websockets</h1>
        <p>En esta entrega hemos añadido una petición AJAX, a falta de poder implementar websockets</p>
        <br>
        <h2>Funcionalidades corregidas (Apuntes del profesor)</h2>
        <ol>
            <li>Mejora y actualización del LEEME.html</li>
            <li>Internacionalización de los mensajes del servidor en las ausencias</li>
            <li>Detalles de los errores si ejecutamos la aplicación en modo debug</li>
        </ol>
        <br>
        <h2>Funcionalidades añadidas</h2>
        <ol>
            <li>
                Ausencias:
                <ul>
                    <li>Borrar una ausencia haciendo doble click sobre ella (usando petición AJAX)</li>
                </ul>
            </li>
            <li>Sistema de log-out</li>
            <li>Vistas de log-in y log-out personalizadas</li>
            <li>
                Citas (Vista de paciente):
                <ul>
                    <li>Ver las citas que tiene un paciente en el día de hoy</li>
                    <li>Pedir una cita</li>
                    <li>Ver detalles de las citas haciendo click en una cita de la lista</li>
                    <li>Cancelar una cita desde la vista principal o desde los detalles</li>
                </ul>
            </li>
        </ol>
        <br>
        <h2>Pendientes de implementar de esta entrega</h2>
        <ol>
            <li>Websocket para el sistema de mensajería</li>
        </ol>
    </div>
    <div class="container">
        <h1>Entrega 5: Aplicación con pruebas</h1>
        <p>
            En esta entrega hemos continuado corrigiendo problemas de las entregas anteriores. Hemos añadido nuevas
            funcionalidades y hemos implemetado test de interfaz con Karate.
        </p>
        <br>
        <h2>Funcionalidades corregidas (apuntes del profesor):</h2>
        <ol>
            <li>Hemos sustituido las llamadas Javascript del estilo "window.onload()" por "document.addEventListener()"</li>
            <li>
                Hemos creado un nuevo componente llamado <b>MessageController</b> que actual como denomidador común entre
                los controladores del paciente y el médico, debido a que ambos comparten las mismas funcionalidades de
                mensajería.
            </li>
            <li>
                Hemos cambiado la forma de obtener el usuario de la sesión de tal forma que siempre se obtiene el último registro
                de la base de datos (usuario "fresco")
            </li>
        </ol>
        <br>
        <h2>Funcionalidades añadidas:</h2>
        <ol>
            <li>Websocket para los mensajes.</li>
            <li>
                Testing de los controladores:
                <ul>
                    <li>Hemos realizado un test a una llamada AJAX (comprobación de credenciales al iniciar sesión)</li>
                    <li>
                        Hemos realizado tests a los controladores. Los test consisten en comprobar que un uso habitual de la aplicación es realizado
                        sin problemas (Entrar en las citas, escribir un mensaje, etc.)
                    </li>
                </ul>
            </li>
            <li>Ahora el administrador puede ver todas las ausencias presentes en la aplicación, pero <b>no podrá interactuar con ellas (de momento).</b></li>
            <li>Hemos habilitado de funcionalidad a los buscadores de pacientes y citas en las vistas de paciente y médico.</li>
            <li>Hemos habilitado de funcionalidad a los botones de ordenar y filtrar en la vista de administrador.</li>
            <li>Hemos realizado validaciones sobre el log-in de la aplicación, de tal forma que se observa de mejor manera cuando las credenciales son erroneas.</li>
            <li>Hemos mejorado las validaciones a la hora de crear un usuario en la vista de administrador</li>
            <li>
                Hemos realizado pequeñas correcciones para mejorar la experiencia de la aplicación:
                <ul>
                    <li>Mejora de diseño en la vista de mensajes.</li>
                    <li>Hemos arreglado un error relacionado con la comprobación de citas a la hora de añadir una ausencia.</li>
                    <li>Ahora las citas para hoy se muestan correctamente</li>
                    <li>Hemos hecho pequeñas correcciones en las plantillas para mejor experiencia.</li>
                </ul>
            </li>
        </ol>
        <br>
        <h2>Funcionalidades pendientes de implementar</h2>
        <ol>
            <li>Mostrar el historial de citas de un paciente tanto en la vista de administrador como en la vista de médico</li>
            <li>Habilitar de funcionalidad al administrador de poder eliminar las ausencias desde la vista de administrador</li>
        </ol>
    </div>
    <div class="container">
        <h1>Entrega 6: Entrega Final</h1>
        <p>
            En esta entrega hemos incluído las funcionalidades que quedaban pendientes de implementar. También hemos arreglado algunos errores
            de estilo y hemos solucionado los problemas descritos por el profesor en la entrega anterior.
        </p>
        <br>
        <h2>Funcionalidades corregidas (apuntes del profesor):</h2>
        <ol>
            <li>Hemos cambiado el código, añadiendo la cláusula WHERE en las queries en lugar de filtrar listado de datos.</li>
            <li>Hemos cambiado el código, añadiendo tipado en las listas a la hora de realizar queries al entityManager.</li>
            <li>Hemos solucionado un error que no permitía ver los mensajes no leídos correctamente.</li>
        </ol>
        <br>
        <h2>Funcionalidades añadidas: </h2>
        <ol>
            <li>
                Hemos implementado el proceso de una cita: A partir de ahora, los médicos pueden apuntar recomendaciones en las citas
                y finalizarlas, de tal forma que la cita pasa a ser parte del historial del paciente. Esto se puede realizar en los detalles de la cita,
                en la vista principal del médico.
            </li>
            <li>
                Ahora, los médicos podrán observar el historial del paciente (en los detalles de la cita, al hacer click junto al botón de chatear).
                Los administradores también podrán ver el historial del paciente.
            </li>
            <li>
                Hemos corregido algunos errores de estilo a la hora de mostrar los detalles de una cita.
            </li>
            <li>
                Los administradores ahora pueden agregar fotos de perfil a los usuarios y a los médicos. Para ello, dentro del perfil del usuario, se cambia la foto y se guardan los cambios
                (presionando el boton de actualizar foto de perfil y confirmar)
            </li>
        </ol>
        <br>
    </div>
    <div class="container">
        <h1>Entrega 7 - Post Examen</h1>
        <p>Para esta entrega hemos corregido los errores que en el examen se indicaban como errores a solucionar para mejorar la nota</p>
        <p>Para esta entrega hemos participado todos los miembros del equipo:</p>
        <ol>
            <li>Alejandro Cabezas Garríguez</li>
            <li>José Morcuende Sierra</li>
            <li>Martín García Fuentes</li>
            <li>Francisco Javier Lozano Hernández</li>
            <li>Jorge María Martín</li>
        </ol>
        <br>
        <h2>Cambios realizados:</h2>
        <br>
        <ol>
            <li>Mejora de la seguridad, comprobando (donde hemos encontrado) posibles vulnerabilidades que provocaban situaciones anómalas (pacientes eliminando citas de otros, etc)</li>
            <li>Hemos añadido la funcionalidad de impedir crear ausencias si esta se solapa con otras</li>
            <li>Ahora, los días libres de un médico son modificables desde la interfaz de administrador</li>
            <li>Hemos añadido el estado a una cita, el cual puede cambiarse desde la interfaz de administrador</li>
            <li>Hemos cambiado el sistema de ordenamiento de los pacientes en la ventana de administrador (hemos eliminado el ordenamiento "burbuja", optimizando así el código</li>
            <li>Ahora, desde la vista de paciente, se pueden crear citas desde la pestaña de "citas para hoy"</li>
            <li>Si el usuario está fuera de la ventana de mensajes, cuando reciba uno, la pestaña de mensajes aparecerá con un icono de notificación</li>
        </ol>
    </div>
</body>
</html>